/*********************************************************************************************
* 文件：main.c
* 作者：Meixin 2017.09.15
* 说明：I/O控制实验 例程    
*       控制Lite节点组网灯、信号灯交替闪烁+读按钮输入+反转信号灯
* 修改：
* 注释：
*********************************************************************************************/

/*********************************************************************************************
* 头文件
*********************************************************************************************/
#include <ioCC2530.h>
#include "delay.h"
#include "led.h"
#include "key.h"

/*********************************************************************************************
* 名称：main()
* 功能：LED驱动实验逻辑代码
* 参数：无
* 返回：无
* 修改：
* 注释：
*********************************************************************************************/
void main(void)
{
  led_init();                                                   //LED的控制端口初始化
  key_init();                                                   //按键的控制端口初始化
  D1 = ON;                                                      //打开D1
  
  while(1)
  {
    if(K1 == DOWN)                                              //按键按下，改变2个LED灯状态
    {
      delay_ms(10);                                             //按键防抖
      if(K1 == DOWN)                                            //按键按下，改变2个LED灯状态
      {
        while(K1 == DOWN);                                      //松手检测
        D1 = !D1;                                               //LED翻转闪烁
        D2 = !D2;                                               //LED翻转闪烁
      }
    }   
  }
}